<!DOCTYPE html>
<html lang="en">

  <head>
    <title>Course Lookup - MyIIT</title>
    <meta charset="utf-8">
    <link rel="shortcut icon" href="img/myiit.gif">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,shrink-to-fit=no" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.1.1/normalize.min.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.6.1/fullcalendar.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-footable/3.0.8/footable.standalone.min.css" />
    <link rel="stylesheet" href="css/screen.css" />
  </head>

  <body class="course-lookup-page">
    <header>
      <div class="banner">
        <a href="index.html">
          <img src="img/header.gif" alt="IIT Logo">
        </a>
      </div>
      <nav>
        <div class="navwrapper">
          <ul id="nav" class="navbar">
            <li class="nav"><a href="index.html">Welcome</a></li>
            <li class="nav"><a href="https://iit.edu/news/iittoday/">News</a></li>
            <li class="nav"><a href="academics.html">Academics</a></li>
            <li class="nav"><a href="redirect.html">Finances</a></li>
            <li class="nav"><a href="redirect.html">Library</a></li>
            <li class="nav"><a href="https://blackboard.iit.edu/">Blackboard</a></li>
            <li class="nav"><a href="redirect.html">Help</a></li>
            <li class="nav"><a href="login.html">Logout</a></li>
          </ul>
        </div>
      </nav>
      <h1>Course Lookup</h1>
    </header>

    <div class="container">
      <main>
        <section id="search-form">
          <div class="input-group">
            <input type="text" id="search" placeholder="Search courses for...">
          </div>
          <div id="search-options">
            <div class="options">
              <div class="checkbox">
                <strong>Search in:</strong>
                <label>
                  <input type="checkbox" id="search-desc" checked> Course descriptions
                </label>
                <label>
                  <input type="checkbox" id="search-sect" checked> Section descriptions
                </label>
              </div>
            </div>
            <div class="options">
              <div class="radio">
                <strong>Result format:</strong><br>
                <label>
                  <input type="radio" name="result-format" id="result-sm"> Just title
                </label>
                <label>
                  <input type="radio" name="result-format" id="result-med"> Title and description
                </label>
                <label>
                  <input type="radio" name="result-format" id="result-big" checked> Everything
                </label>
              </div>
            </div>
            <div class="options">
              <div class="checkbox">
                <strong>Other:</strong>
                <label>
                  <input type="checkbox" id="show-links" checked> Show links (like to course catalog)
                </label>
                <label>
                  <input type="checkbox" id="collapse-sim" checked> Collapse five or more similar sections
                </label>
                <label>
                  <input type="checkbox" id="hide-no-sections" checked> Hide courses without sections
                </label>
              </div>
            </div>
          </div>
        </section>
        <section id="search-results">
          <div id="results">
            <script id="courseTemplate" type="text/x-jsrender">
            <article class="course panel panel-default">
              <header class="panel-heading">
                <h3 class="panel-title text-center">{{> name}}: {{> title}}</h3>
              </header>
              <div class="panel-body course-info">
                <p>{{> description}}</p>
                <ul class="tags">
                  {{if credit_hours.length}}<li>{{hideDecimal:credit_hours}} credit(s)</li>{{/if}}
                  {{for attributes}}<li>{{> #data}}</li>{{/for}}
                </ul>
                {{for semesters}}
                <table class="sections table table-hover" data-cascade="true">
                  <caption>Sections ({{> name}})</caption>
                  <thead>
                    <tr>
                      <th class="crn" data-type="html">CRN</th>
                      <th class="type" data-type="text" data-breakpoints="xs">Type</th>
                      <th class="time" data-type="text" data-breakpoints="xs">Time</th>
                      <th class="location" data-type="text" data-breakpoints="md">Location</th>
                      <th class="instructors" data-type="text" data-breakpoints="sm">Instructor(s)</th>
                      <th class="enrollment" data-type="html" data-breakpoints="sm">Enrolled</th>
                      <th class="waitlist" data-type="text" data-breakpoints="md">Waitlisted</th>
                    </tr>
                  </thead>
                  <tbody>
                    {{for sections}}
                    <!-- TODO: we want to show multiple meeting times! -->
                    <tr class="section" id="section{{> crn }}" data-expanded="true">
                      <td class="crn">
                        <div class="button-group" role="group">
                          <a href="javascript:;" onclick="addToCart({{> crn }})" class="button button-success button-small">Add {{> crn}}</a>
                          <a href="https://my102.iit.edu/banr/bwckschd.p_disp_detail_sched?term_in=201710&amp;crn_in={{> crn}}" target="_blank" class="button button-small" title="View detailed section information">Info</a>
                        </div>
                      </td>
                      <td class="type">{{> meetings[0].type}}: {{> meetings[0].schedule_type}}</td>
                      <td class="time">{{> meetings[0].days}} {{> meetings[0].time}}</td>
                      <td class="location">{{> meetings[0].where}}</td>
                      <td class="instructors">{{> meetings[0].instructors}}</td>
                      <td class="enrollment"><strong>{{> enrolled}}</strong>/{{> capacity}}</td>
                      <td class="waitlist">{{> waitlist_enrolled}}</td>
                    </tr>
                    {{/for}}
                  </tbody>
                </table>
                {{/for}}
              </div>
              <footer class="panel-footer">
                <a class="button button-small" href="https://my102.iit.edu/banr/bwckctlg.p_disp_course_detail?cat_term_in={{> semesters[0].code}}&amp;subj_code_in={{deptName:name}}&amp;crse_numb_in={{courseNum:name}}" target="_blank" title="Opens in a new window">View in course catalog</a>
                <a class="button button-small" href="javascript:;" onclick="$(this).parents('div.course').find('form').submit()">View course evaluations</a>
                <form action="http://retention.iit.edu/course_eval_summary_result.php" method="post" target="_blank"><input type="hidden" name="course[]" value="{{deptName:name}}{{courseNum:name}}"><input type="hidden" name="instructor[]" value="BLANK"></form>
              </footer>
            </article>
            </script>
          </div>
          <p id="no-results">0 results, please try searching for something else!</p>
        </section>
      </main>
      <aside id="sidebar">
        <div id="cart">
          <script id="cartTemplate" type="text/x-jsrender">
          <h3>Cart</h3>
          <ul>
            {{if cart.length===0}}
            <p>No saved courses for {{> semester}}</p>
            {{/if}}
            {{for cart}}
            <li>
              <div>{{> name}}: {{> title}} - {{> section.crn }}</div>
              <a class="button button-small" href="javascript:;" onclick="removeFromCart({{> section.crn }})">Remove {{> section.crn }}</a>
            </li>
            {{/for}}
          </ul>
          </script>
        </div>
        <div class="schedule-container">
          <h3>Your Schedule</h3>
          <div id="schedule"></div>
        </div>
        <div id="semesters">
          <!-- switch between semesters here -->
        </div>
      </aside>
    </div>

    <!-- Footer was used in courses.html, this is for ease -->
    <div class="globalFooter">
      <div class="footerContainer">
        <div class="footerLogo">
          <img src="img/IITlogo.png" alt="IIT Logo">
        </div>

        <div class="footerText">
          <p>Illinois Institute of Technology</p>
          <p>2016</p>
        </div>
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/2.6.1/fullcalendar.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/elasticsearch/11.0.1/elasticsearch.jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsrender/0.9.75/jsrender.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-footable/3.0.8/footable.min.js"></script>
    <script src="js/jquery.typewatch.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
